(this["webpackJsonplink-aya-kya"]=this["webpackJsonplink-aya-kya"]||[]).push([[9],{114:function(e,t,a){"use strict";a.r(t);var n=a(12),l=a(13),c=a(15),r=a(14),s=a(0),o=a.n(s),i=a(1),m=a(40),u=a(59),d=a(16),h=a(48),p=a(61),f=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"up-container flex container mx-auto",style:{maxWidth:"500px"}},o.a.createElement("div",{className:"up"},o.a.createElement("div",{className:"ann-preview"},o.a.createElement("h3",null,o.a.createElement("span",{role:"img",className:"emoji","aria-label":"books"},"\ud83d\udcda"))),o.a.createElement("div",{className:"ann-info text-left"},o.a.createElement("h2",null,o.a.createElement("strong",null,this.props.subject.subject)),o.a.createElement("h4",null,"Subject Code: ",this.props.subject.subjectCode),o.a.createElement("h4",null,"Teacher: ",this.props.subject.teacher),o.a.createElement("div",{style:{position:"absolute",top:"5%",right:"5%"}},o.a.createElement("button",{className:"btn",onClick:function(){return e.props.onDelete(e.props.subject)}},o.a.createElement("span",{role:"img","aria-label":"delete"},"\u274c"))))))}}]),a}(s.Component),b=a(64),E=a.n(b),g=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={},e.renderLecture=function(){var t=e.props.lecture,a=t.subject,n=t.teacher,l=t.startTime,c=t.endTime,r=t.link,s=t.text,i=t.group,m=l.toDate().getHours(),u=l.toDate().getMinutes(),d="am";12===m&&(d="pm"),m>12&&(m-=12,d="pm");var h=u<10?"0"+String(u):String(u),p=c.toDate().getHours(),f=c.toDate().getMinutes(),b="am";12===p&&(b="pm"),p>12&&(p-=12,b="pm");var g=f<10?"0"+String(f):String(f);return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"lec lec-hover",id:l+r},o.a.createElement("div",{className:"lec-preview"},o.a.createElement("div",{className:"time"},o.a.createElement("h3",null,m," : ",h," ",d),o.a.createElement("div",{className:"mb-2",style:{display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement("span",{className:"vertical-line",style:{height:"30px"}})),o.a.createElement("h3",null,p," : ",g," ",b)),o.a.createElement("hr",null),o.a.createElement("br",null),o.a.createElement("a",{className:"lec-btn btn-primary mt-2",href:r,target:"_blank",rel:"noopener noreferrer"},"Join now")),o.a.createElement("div",{className:"lec-info text-left"},o.a.createElement("div",{className:"main-data"},o.a.createElement("h2",null,o.a.createElement("strong",null,a)),o.a.createElement("h4",null,"Teacher: ",n),o.a.createElement("h4",null,"Group: ",i||"All")),o.a.createElement("hr",null),o.a.createElement("h5",null,o.a.createElement("strong",null,"Description: "),o.a.createElement(E.a,{lines:2,more:"More",less:"Less",anchorClass:"",onClick:function(){return document.getElementById(l+r).classList.toggle("lec-hover")},expanded:!1},s||"No Info Provided")),o.a.createElement("div",{style:{position:"absolute",top:"5%",right:"5%"}},o.a.createElement("button",{className:"btn",onClick:function(){return e.props.onDelete(e.props.lecture)}},o.a.createElement("span",{role:"img","aria-label":"delete"},"\u274c"))))))},e}return Object(l.a)(a,[{key:"render",value:function(){return this.renderLecture()}}]),a}(s.Component),v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],N=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={},e.displayUpdate=function(){switch(e.props.announcement.type){case"announcement":return e.displayAnnouncement();case"poll":return e.displayPoll();case"link":return e.displayLink();default:return}},e.displayAnnouncement=function(){var t=e.props.announcement,a=t.dateAndTime,n=t.text,l=t.isOfficial,c=a.toDate(),r=c.getDate(),s=v[c.getMonth()-1],i=c.getFullYear(),m=c.getHours(),u="00",d=c.getMinutes();return u=d<10?"0"+String(d):String(d),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"ann-preview"},l&&o.a.createElement("i",{className:"fa fa-bookmark float-right mr-n4 mt-n4 text-danger",style:{fontSize:"30px"}}),o.a.createElement("h3",null,o.a.createElement("span",{role:"img",className:"emoji","aria-label":"announcement"},"\ud83d\udce2"))),o.a.createElement("div",{className:"ann-info text-left"},o.a.createElement("h6",{style:{width:"fit-content"},className:"mb-3"},s," ",r,", ",i," at ",m,":",u),o.a.createElement("div",{style:{minHeight:"50%",display:"flex",alignItems:"center"}},o.a.createElement("h4",null,n)),o.a.createElement("div",{style:{position:"absolute",top:"5%",right:"1%"}},e.createButtons())))},e.displayLink=function(){var t=e.props.announcement,a=t.dateAndTime,n=t.text,l=t.link,c=t.isOfficial,r=a.toDate(),s=r.getDate(),i=v[r.getMonth()-1],m=r.getFullYear(),u=r.getHours(),d="00",h=r.getMinutes();return d=h<10?"0"+String(h):String(h),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"ann-preview"},c&&o.a.createElement("i",{className:"fa fa-bookmark float-right mr-n4 mt-n4 text-danger",style:{fontSize:"30px"}}),o.a.createElement("h3",null,o.a.createElement("span",{role:"img",className:"emoji","aria-label":"announcement"},"\ud83d\udd17"))),o.a.createElement("div",{className:"ann-info text-left"},o.a.createElement("h6",{style:{width:"fit-content"},className:"mb-3"},i," ",s,", ",m," at ",u,":",d),o.a.createElement("h4",null,n),o.a.createElement("a",{className:"btn link-btn btn-primary mt-2 float-right",href:l,target:"_blank",rel:"noopener noreferrer"},"Visit Link"),o.a.createElement("div",{style:{position:"absolute",top:"5%",right:"1%"}},e.createButtons())))},e.displayPoll=function(){var t=e.props.announcement,a=t.dateAndTime,n=t.text,l=t.yesCount,c=t.yesOption,r=t.noCount,s=t.noOption,i=t.isOfficial,m=a.toDate(),u=m.getDate(),d=v[m.getMonth()-1],h=m.getFullYear(),p=m.getHours(),f="00",b=m.getMinutes();f=b<10?"0"+String(b):String(b);var E=100*l/(r+l);Number.isNaN(E)&&(E=0);var g=100*r/(r+l);return Number.isNaN(g)&&(g=0),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"ann-preview"},i&&o.a.createElement("i",{className:"fa fa-bookmark float-right mr-n4 mt-n4 text-danger",style:{fontSize:"30px"}}),o.a.createElement("h3",null,o.a.createElement("span",{role:"img",className:"emoji","aria-label":"announcement"},"\ud83d\uddf3\ufe0f"))),o.a.createElement("div",{className:"ann-info text-left"},o.a.createElement("h6",{style:{width:"fit-content"},className:"mb-3"},d," ",u,", ",h," at ",p,":",f),o.a.createElement("h4",null,n),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("table",{className:"table"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,c),o.a.createElement("td",null,s)),o.a.createElement("tr",null,o.a.createElement("td",null,l),o.a.createElement("td",null,r)))))),o.a.createElement("div",{style:{position:"absolute",top:"5%",right:"1%"}},e.createButtons())))},e.getClass=function(){var t="text-left p-4 mb-4 ";switch(e.props.announcement.type){case"announcement":t+="announcement-card ";break;case"poll":t+="poll-card";break;case"link":t+="link-card";break;default:return}return t},e.createButtons=function(){return o.a.createElement("button",{className:"btn",onClick:function(){return e.props.onDelete(e.props.announcement.dateAndTime)}},o.a.createElement("span",{role:"img","aria-label":"delete"},"\u274c"))},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"up-container d-flex flex-column container-fluid"},o.a.createElement("div",{className:"up mx-auto"},this.displayUpdate()))}}]),a}(s.Component),y=a(41),j=a(53),w=m.a.firestore(),k=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,subject:"",code:"",teacherId:"",teacherName:"",disabled:!1},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.styles={position:"fixed",display:"block",background:"pink",color:"black",width:"60%",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:1,boxShadow:"2px 2px 10px 10px rgba(255, 31, 255, 0.226)"},e.getForm=function(){return o.a.createElement("div",{className:""},o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Teacher Id:"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{type:"email",className:"form-control",id:"teacher-id",name:"teacherId",required:!0,value:e.state.teacherId,onChange:e.fetchTeacher}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Teacher Name:"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{type:"text",className:"form-control",id:"teacher-name",name:"teacherName",disabled:e.state.disabled,value:e.state.teacherName,required:!0,onChange:e.handleChange}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Subject Code:"),o.a.createElement("div",{className:"col-sm-3"},o.a.createElement("input",{type:"text",className:"form-control",id:"code",name:"code",value:e.state.code,required:!0,onChange:e.handleChange})),o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Subject Name:"),o.a.createElement("div",{className:"col-sm-4"},o.a.createElement("input",{type:"text",className:"form-control",id:"name",name:"subject",value:e.state.subject,required:!0,onChange:e.handleChange}))),o.a.createElement("button",{className:"btn btn-success m-2"},"Add"))},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(y.a)({},a,n))},e.fetchTeacher=function(t){e.handleChange(t);var a=t.target.value;a&&w.collection("teachers").doc(a).onSnapshot((function(t){t.exists?e.setState({teacherName:t.data().details.name,subjects:t.data().subjects,disabled:!0}):e.setState({teacherName:"",subjects:[],disabled:!1})}))},e.callAddSubject=function(t){t.preventDefault();var a={subject:e.state.subject,subjectCode:e.state.code,teacher:e.state.teacherName,teacherId:e.state.teacherId};e.setState({show:!1}),e.props.addSubject(a),e.setState({subject:"",code:"",teacherName:"",teacherId:"",disabled:!1})},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-info btn-lg mb-4",onClick:this.showModal},"New Subject +"),o.a.createElement(j.a,{show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},o.a.createElement(j.a.Header,{closeButton:!0},o.a.createElement(j.a.Title,null,o.a.createElement("h3",{className:"mt-2"},"Add Subject Details:"))),o.a.createElement(j.a.Body,null,o.a.createElement("form",{onSubmit:this.callAddSubject},this.getForm()))))}}]),a}(s.Component),C=a(43),O=a.n(C),x=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).isMount=!1,e.state={show:!1,link:"",subject:"",subjectCode:"",teacher:"",text:"",group:""},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.styles={position:"fixed",display:"block",background:"pink",color:"black",width:"80%",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:1,boxShadow:"2px 2px 10px 10px rgba(255, 31, 255, 0.226)"},e.getForm=function(){return o.a.createElement("div",null,o.a.createElement("form",{className:"m-2",onSubmit:e.callAddLecture},o.a.createElement("div",{className:"col-sm-7",style:{margin:"auto"}},o.a.createElement("label",null,"Subject: "),o.a.createElement("select",{className:"add-lec-subject form-control text-center",name:"subject",onChange:e.handleSubjChange,required:!0},o.a.createElement("option",{className:"add-lec-opns",value:""},"--Choose Subject---"),e.props.subjects.map((function(e){return o.a.createElement("option",{className:"add-lec-opns",key:e.subjectCode,value:e.subjectCode},e.subject)})))),o.a.createElement("div",{className:"col-md-7 mb-3",style:{margin:"auto"}},o.a.createElement("label",null,"Link:"),o.a.createElement("input",{type:"url",className:"form-control",id:"link",name:"link",value:e.state.link,onChange:e.handleChange,required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"form-row"},o.a.createElement("div",{className:"col-sm-4"},o.a.createElement("label",null,"Start Time"),o.a.createElement("input",{className:"form-control",type:"datetime-local",name:"startTime",min:(new Date).toJSON().split(":")[0]+":"+(new Date).toJSON().split(":")[1],id:"startTime",onChange:e.handleChange,required:!0})),o.a.createElement("div",{className:"col-sm-4"},o.a.createElement("label",null,"End Time"),o.a.createElement("input",{className:"form-control",type:"datetime-local",name:"endTime",min:(new Date).toJSON().split(":")[0]+":"+(new Date).toJSON().split(":")[1],id:"endTime",onChange:e.handleChange,required:!0})),o.a.createElement("div",{className:"col-sm-4"},o.a.createElement("label",null,"Group"),o.a.createElement("input",{className:"form-control",type:"text",name:"group",id:"group",onChange:e.handleChange,placeholder:"leave blank for whole class!"}))),o.a.createElement("label",null,"Description:"),o.a.createElement("textarea",{className:"form-control col-sm-10",id:"text",style:{margin:"auto"},value:e.state.text,name:"text",onChange:e.handleChange,placeholder:"no info provided"})),o.a.createElement("button",{className:"btn btn-success",type:"submit"},"Add Lecture")))},e.handleSubjChange=function(t){for(var a=t.target.value,n={},l=e.props.subjects,c=0;c<l.length;c++)if(l[c].subjectCode===a){n=l[c];break}e.setState({subject:n.subject,subjectCode:n.subjectCode,teacher:n.teacher})},e.handleChange=function(t){console.log(t.target.min);var a=t.target.name,n=t.target.value;e.setState(Object(y.a)({},a,n))},e.callAddLecture=function(t){t.preventDefault();var a=Date.parse(e.state.startTime),n=Date.parse(e.state.endTime),l=new Date(a),c=new Date(n);if(a<Date.now()-6e4||n<=a)O.a.toast({html:"Enter Valid Class Timings",classes:"toast error-toast"});else{var r={subject:e.state.subject,subjectCode:e.state.subjectCode,teacher:e.state.teacher,startTime:m.a.firestore.Timestamp.fromDate(l),endTime:m.a.firestore.Timestamp.fromDate(c),link:e.state.link,text:e.state.text,group:e.state.group};e.setState({show:!1}),e.props.addLecture(r),e.setState({link:"",subject:"",subjectCode:"",teacher:"",startTime:new Date(0),endTime:new Date(0),text:"",group:""})}},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"btn-info btn-lg mb-4",onClick:this.showModal},"Add Lecture +"),o.a.createElement(j.a,{animation:!1,show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},o.a.createElement(j.a.Header,{closeButton:!0},o.a.createElement(j.a.Title,null,o.a.createElement("h3",null,"Add Lecture Details:"))),o.a.createElement(j.a.Body,null,this.getForm())))}}]),a}(s.Component),S=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,text:"",isOfficial:!1},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.styles={position:"fixed",background:"pink",color:"black",width:"80%",height:"auto",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:1,boxShadow:"2px 2px 10px 10px rgba(255, 31, 255, 0.226)"},e.getForm=function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("label",{className:"m-2 mb-0",style:{fontSize:"18px"}},"Announcement:")),o.a.createElement("input",{type:"text",className:"form-control mr-2",placeholder:"Enter your main text here...",value:e.state.text,name:"text",required:!0,onChange:e.handleChange})),o.a.createElement("div",{className:"input-group custom-control custom-switch"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"announcementIsOfficial",name:"isOfficial",onChange:function(t){return e.setState({isOfficial:t.target.checked})}}),o.a.createElement("label",{className:"m-2 mb-0 custom-control-label",style:{fontSize:"18px"},htmlFor:"announcementIsOfficial"},"Official")),o.a.createElement("button",{className:"btn btn-success m-2",type:"submit",onClick:e.hideModal},"Add"))},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(y.a)({},a,n))},e.callAddAnnouncement=function(t){t.preventDefault();var a={dateAndTime:m.a.firestore.Timestamp.fromDate(new Date),type:"announcement",text:e.state.text,isOfficial:e.state.isOfficial};e.props.AddAnnouncement(a),e.setState({text:"",isOfficial:!1})},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"btn-lg btn-info m-1",onClick:this.showModal},"Add Announcement"),o.a.createElement(j.a,{show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},o.a.createElement(j.a.Header,{closeButton:!0},o.a.createElement(j.a.Title,null,o.a.createElement("h3",{className:"mt-2"},"Add Announcement Details:"))),o.a.createElement(j.a.Body,null,o.a.createElement("form",{onSubmit:this.callAddAnnouncement},this.getForm()))))}}]),a}(s.Component),A=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,yesOption:"",noOption:"",text:"",isOfficial:!1},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.styles={position:"fixed",background:"pink",color:"black",width:"60%",height:"auto",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:1,boxShadow:"2px 2px 10px 10px rgba(255, 31, 255, 0.226)"},e.getForm=function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Poll Text:"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{type:"text",className:"form-control",id:"formGroupExampleInput",placeholder:"Poll Details",name:"text",required:!0,value:e.state.text,onChange:e.handleChange}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"First Option:"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"First option",name:"yesOption",required:!0,value:e.state.yesOption,onChange:e.handleChange}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Second Option:"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Second option",name:"noOption",required:!0,value:e.state.noOption,onChange:e.handleChange}))),o.a.createElement("div",{className:"form-group custom-control custom-switch"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"pollIsOfficial",name:"isOfficial",onChange:function(t){return e.setState({isOfficial:t.target.checked})}}),o.a.createElement("label",{className:"m-2 mb-0 custom-control-label",htmlFor:"pollIsOfficial"},"Official")),o.a.createElement("button",{className:"btn btn-success m-2",onClick:e.hideModal},"Add poll"))},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(y.a)({},a,n))},e.callAddPoll=function(t){t.preventDefault();var a={dateAndTime:m.a.firestore.Timestamp.fromDate(new Date),type:"poll",text:e.state.text,yesOption:e.state.yesOption,noOption:e.state.noOption,yesCount:0,noCount:0,isOfficial:e.state.isOfficial};console.log(a),e.props.addPoll(a),e.setState({text:"",yesOption:"",noOption:"",isOfficial:!1})},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"btn-lg btn-info m-1",onClick:this.showModal},"Add Poll"),o.a.createElement(j.a,{show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},o.a.createElement(j.a.Header,{closeButton:!0},o.a.createElement(j.a.Title,null,o.a.createElement("h3",{className:"mt-2"},"Add Poll Details:"))),o.a.createElement(j.a.Body,null,o.a.createElement("form",{onSubmit:this.callAddPoll},this.getForm()))))}}]),a}(s.Component),T=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,link:"",text:"",isOfficial:!1},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.styles={position:"fixed",background:"pink",color:"black",width:"60%",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:1,boxShadow:"2px 2px 10px 10px rgba(255, 31, 255, 0.226)"},e.getForm=function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Link:"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{type:"url",className:"form-control",placeholder:"https://link.com",name:"link",value:e.state.link,required:!0,onChange:e.handleChange}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Description:"),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"about the link",name:"text",value:e.state.text,required:!0,onChange:e.handleChange}))),o.a.createElement("div",{className:"form-group custom-control custom-switch"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"linkIsOfficial",name:"isOfficial",onChange:function(t){return e.setState({isOfficial:t.target.checked})}}),o.a.createElement("label",{className:"m-2 mb-0 custom-control-label",htmlFor:"linkIsOfficial"},"Official")))},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(y.a)({},a,n))},e.callAddAnnouncement=function(t){t.preventDefault();var a={dateAndTime:m.a.firestore.Timestamp.fromDate(new Date),type:"link",text:e.state.text,link:e.state.link,isOfficial:e.state.isOfficial};e.props.addLink(a),e.setState({text:"",link:"",isOfficial:!1})},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"btn-lg btn-info m-1",onClick:this.showModal},"Add Link"),o.a.createElement(j.a,{show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},o.a.createElement(j.a.Header,{closeButton:!0},o.a.createElement(j.a.Title,null,o.a.createElement("h3",{className:"mt-2"},"Add Link Details:"))),o.a.createElement(j.a.Body,null,o.a.createElement("form",{onSubmit:this.callAddAnnouncement},this.getForm(),o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-success m-2",onClick:this.hideModal},"Add Link"))))))}}]),a}(s.Component),D=a(49),I=a(51),M=a(113),L=a(6),F=m.a.firestore(),H=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={subjects:[],details:[],lecturesToday:[],announcements:[],user:m.a.auth().currentUser,crCode:e.props.CrCode,loading:!0},e.collRef=F.collection("classes"),e.docRef=e.collRef.doc(e.state.crCode),e.collRefLec=e.docRef.collection("lectures"),e.docRefLec=e.collRefLec.doc("lecturesToday"),e.collRefUp=e.docRef.collection("updates"),e.docRefUp=e.collRefUp.doc("announcements"),e.handleSignOut=function(){m.a.auth().signOut().then((function(){O.a.toast({html:"Logged Out",classes:"toast success-toast"}),window.location.reload()})).catch((function(e){O.a.toast({html:e.message,classes:"toast error-toast"})}))},e.copyLink=function(){var t=e.state.crCode,a=document.createElement("textarea");a.innerText=t,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),O.a.toast({html:"Class Code Copied",classes:"toast success-toast"})},e.sortAnnouncements=function(){for(var t=e.state.announcements,a=0;a<t.length;a++)for(var n=a+1;n<t.length;n++)if(t[a].dateAndTime<t[n].dateAndTime){var l=t[a];t[a]=t[n],t[n]=l}e.setState({announcements:t})},e.addSubject=function(t){var a=e.state.crCode,n=F.collection("teachers").doc(t.teacherId).collection("classes").doc(a),l={details:{course:e.state.details.course,branch:e.state.details.branch,sem:e.state.details.sem,crName:e.state.details.crName,classId:a},subjects:[{name:t.subject,code:t.subjectCode}]},c={subject:t.subject,subjectCode:t.subjectCode,teacher:t.teacher,teacherId:t.teacherId};e.docRef.update({subjects:m.a.firestore.FieldValue.arrayUnion(c)}),F.runTransaction((function(e){return e.get(n).then((function(t){t.exists?e.update(n,{subjects:m.a.firestore.FieldValue.arrayUnion(l.subjects[0])}):n.set(l)}))}))},e.addLecture=function(t){var a=[].concat(Object(p.a)(e.state.lecturesToday),[t]);e.docRefLec.update({lectures:a})},e.AddAnnouncement=function(t){var a=[].concat(Object(p.a)(e.state.announcements),[t]);e.docRefUp.update({announcements:a})},e.handleDetailsEdit=function(){},e.deleteAnnouncement=function(t){e.docRefUp.update({announcements:e.state.announcements.filter((function(e){return e.dateAndTime!==t}))})},e.deleteSubject=function(t){var a=F.collection("teachers").doc(t.teacherId).collection("classes").doc(e.state.crCode);e.docRef.update({subjects:e.state.subjects.filter((function(e){return e.subjectCode!==t.subjectCode}))});var n={code:t.subjectCode,name:t.subject};F.runTransaction((function(e){return e.get(a).then((function(t){t.data().subjects&&(1===t.data().subjects.length?e.delete(a):e.update(a,{subjects:m.a.firestore.FieldValue.arrayRemove(n)}))}))}))},e.deleteLecture=function(t){e.docRefLec.update({lectures:m.a.firestore.FieldValue.arrayRemove(t)})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.docRef.onSnapshot((function(t){t.data()&&e.setState({subjects:t.data().subjects.map((function(e){return Object(h.a)({},e)})),details:t.data().details,loading:!1})})),this.docRefLec.onSnapshot((function(t){t.data()&&e.setState({lecturesToday:t.data().lectures.map((function(e){return Object(h.a)({},e)}))})})),this.docRefUp.onSnapshot((function(t){t.data()&&(e.setState({announcements:t.data().announcements.map((function(e){return Object(h.a)({},e)}))}),e.sortAnnouncements())}))}},{key:"render",value:function(){var e=this;return this.state.loading?o.a.createElement(d.a,null):o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"code-head-btn"},o.a.createElement(I.a,null),o.a.createElement("h1",{className:"mainPageHeading"},"CR Control Page!"),o.a.createElement(M.a,{className:"float-md-right mb-2"},o.a.createElement(M.a.Toggle,{className:"acc-dropdown",id:"dropdown-basic"},o.a.createElement("i",{className:"fa fa-user-circle",style:{fontSize:"30px",cursor:"pointer"}})),o.a.createElement(M.a.Menu,null,o.a.createElement(M.a.Item,null," ",this.state.details.crName," "),o.a.createElement(M.a.Item,{onClick:this.copyLink}," ",this.state.crCode," "),o.a.createElement(L.b,{to:{pathname:"/cr/class",state:{classId:this.state.crCode,details:this.state.details}},style:{textDecoration:"none"}},o.a.createElement(M.a.Item,{href:"/cr/class"},"Class Details")),o.a.createElement(M.a.Divider,null),o.a.createElement(M.a.Item,{onClick:function(){return e.handleSignOut()}},o.a.createElement("i",{style:{fontSize:"25px",cursor:"pointer"},className:"fa fa-sign-out"}))))),o.a.createElement("div",{id:"Lectures"},o.a.createElement("h2",{className:"subHeading"},"Lectures Today:")),o.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"18rem"}}),o.a.createElement(x,{addLecture:this.addLecture,subjects:this.state.subjects}),o.a.createElement("div",{className:"lectures-row"},this.state.lecturesToday.map((function(t){return o.a.createElement(g,{lecture:t,key:t.startTime,onDelete:e.deleteLecture})}))),o.a.createElement("div",{id:"Announcements"},o.a.createElement("div",{className:"d-inline container-fluid"},o.a.createElement("h2",{className:"subHeading"},"Mitron! Announcement Suno"," ",o.a.createElement("span",{role:"img","aria-label":"announcement"},"\ud83d\udce2")),o.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"40%"}})),o.a.createElement("div",{className:"d-flex justify-content-center mb-4"},o.a.createElement(S,{AddAnnouncement:this.AddAnnouncement}),o.a.createElement(A,{addPoll:this.AddAnnouncement}),o.a.createElement(T,{addLink:this.AddAnnouncement})),o.a.createElement("div",{className:"key-container"},o.a.createElement("div",{className:"poll-card m-2",style:{width:"90px"}},o.a.createElement("span",{className:"p-2"},o.a.createElement("i",{className:"fa fa-bookmark text-danger mr-1"})," Official")),o.a.createElement("div",{className:"poll-card m-2",style:{width:"150px"}},o.a.createElement("span",{className:"p-2"},o.a.createElement("span",{role:"img",className:"mr-1","aria-label":"announcement"},"\ud83d\udce2"," ")," ","Announcements")),o.a.createElement("div",{className:"poll-card m-2",style:{width:"75px"}},o.a.createElement("span",{className:"p-2"},o.a.createElement("span",{role:"img",className:"mr-1","aria-label":"announcement"},"\ud83d\udd17"),"Links")),o.a.createElement("div",{className:"poll-card m-2",style:{width:"75px"}},o.a.createElement("span",{className:"p-2"},o.a.createElement("span",{role:"img",className:"mr-1","aria-label":"announcement"},"\ud83d\uddf3\ufe0f"),"Polls")))),o.a.createElement("div",{className:"m-4 mx-n3 ann-container"},this.state.announcements.map((function(t){return o.a.createElement(N,{announcement:t,id:t.dateAndTime,key:t.dateAndTime,onDelete:e.deleteAnnouncement})}))),o.a.createElement("div",{id:"Subjects"},o.a.createElement("h2",{className:"subHeading"},"Subjects You study:")),o.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"18rem"}}),o.a.createElement(k,{addSubject:this.addSubject}),o.a.createElement("div",{className:"my-flex-container"},this.state.subjects.map((function(t){return o.a.createElement(f,{subject:t,key:t.subjectCode,onDelete:e.deleteSubject})}))),o.a.createElement(D.a,{paths:["Lectures","Announcements","Subjects"]}))}}]),a}(s.Component),R=m.a.firestore(),B=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).isMount=!1,e.state={user:null,doc:"",loading:!0},e.authListener=function(){m.a.auth().onAuthStateChanged((function(t){t&&R.collection("students").doc("listOfCRs").get().then((function(a){var n=a.data().listOfCRs,l=t.email;e.isMount&&e.setState({doc:n[l]})}));e.isMount&&e.setState({user:t})}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.isMount=!0,this.authListener()}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){var e,t=this;if(this.state.loading&&(e=o.a.createElement(d.a,null)),!this.state.loading){if(!this.state.user)return o.a.createElement(i.a,{to:"/cr/login"});e=this.state.doc?o.a.createElement(H,{CrCode:this.state.doc}):o.a.createElement(u.a,null)}return setTimeout((function(){t.isMount&&t.setState({loading:!1})}),2e3),e}}]),a}(s.Component);t.default=B},40:function(e,t,a){"use strict";var n=a(44),l=a.n(n);a(45),a(46);l.a.initializeApp({apiKey:"AIzaSyAmIvOPjQnup4mQ5aG39T5baEpulNmWv4k",authDomain:"laayak-web-app.firebaseapp.com",databaseURL:"https://laayak-web-app.firebaseio.com",projectId:"laayak-web-app",storageBucket:"laayak-web-app.appspot.com",messagingSenderId:"308936714271",appId:"1:308936714271:web:002f9b74b345181da7cd2a",measurementId:"G-YHF3LDWKKG"}),t.a=l.a},49:function(e,t,a){"use strict";var n=a(12),l=a(13),c=a(15),r=a(14),s=a(0),o=a.n(s),i=(a(50),function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("nav",{className:"b-nav"},o.a.createElement("ul",{className:"b-nav-links"},this.props.paths.map((function(e){return o.a.createElement("li",{key:e},o.a.createElement("a",{href:"#"+e,className:"b-nav-link"},e))}))))}}]),a}(s.Component));t.a=i},50:function(e,t,a){},51:function(e,t,a){"use strict";var n=a(12),l=a(13),c=a(15),r=a(14),s=a(0),o=a.n(s),i=(a(52),function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={mode:document.getElementsByTagName("Body")[0].classList[0]},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"float-md-left w-auto mb-2 input-group custom-control custom-switch"},o.a.createElement("label",{id:"switch",className:"switch"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:function(){"dark"===e.state.mode?localStorage.setItem("mode","light"):localStorage.setItem("mode","dark"),document.getElementsByTagName("Body")[0].classList.replace(e.state.mode,localStorage.getItem("mode")),e.setState({mode:localStorage.getItem("mode")})},checked:"dark"===this.state.mode,id:"dark"}),o.a.createElement("span",{className:"slider round"})))}}]),a}(s.Component));t.a=i},52:function(e,t,a){},54:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",(function(){return n}))},57:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(54);function l(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n.a)(e,t):void 0}}},59:function(e,t,a){"use strict";var n=a(12),l=a(13),c=a(15),r=a(14),s=a(0),o=a.n(s),i=a(6),m=a(43),u=a.n(m),d=a(40),h=(a(60),function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).handleSignOut=function(){d.a.auth().signOut().then((function(){window.location.reload()})).catch((function(e){u.a.toast({html:e.message,classes:"toast error-toast"})}))},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"403"},o.a.createElement("section",{className:"page_403"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12 "},o.a.createElement("div",{className:"col-sm-offset-1  text-center"},o.a.createElement("h1",{className:"text-center"},"403"),o.a.createElement("div",{className:"four_zero_three_bg"}),o.a.createElement("div",{className:"contant_box_403"},o.a.createElement("h3",{className:"h2"},"Access Denied"),o.a.createElement("h5",null,o.a.createElement("button",{className:"btn btn-primary mx-2",onClick:this.handleSignOut},"Sign In"),"to gain access / go",o.a.createElement(i.b,{className:"btn btn-success mx-2",to:"/"},"Home")))))))))}}]),a}(s.Component));t.a=h},60:function(e,t,a){},61:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(54);var l=a(57);function c(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(l.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=9.1c161dbb.chunk.js.map