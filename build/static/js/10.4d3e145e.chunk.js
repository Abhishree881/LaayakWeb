(this["webpackJsonplink-aya-kya"]=this["webpackJsonplink-aya-kya"]||[]).push([[10],{133:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(13),l=a(15),s=a(14),o=a(0),c=a.n(o),i=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={},e.getDetails=function(){var t=e.props.details,a=t.branch,n=t.college,r=t.course,l=t.sem;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"ann-preview",style:{display:"flex",alignItems:"center",justifyContent:"center"}},c.a.createElement("h3",null,c.a.createElement("img",{alt:"details",src:"https://cdn1.iconfinder.com/data/icons/education-set-01/512/document-info-512.png"}))),c.a.createElement("div",{className:"ann-info text-left"},c.a.createElement("p",null,"Branch: ",c.a.createElement("strong",null,a)),c.a.createElement("p",null,"College: ",c.a.createElement("strong",null,n)),c.a.createElement("p",null,"Course: ",c.a.createElement("strong",null,r)),c.a.createElement("p",null,"Semester: ",c.a.createElement("strong",null,l))))},e}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"up-container d-flex flex-column container-fluid"},c.a.createElement("div",{className:"up mx-auto"},this.getDetails()))}}]),a}(o.Component),u=a(43),m=a(6),d=a(60),p=a(55),f=a(90),b=a(89),h=a(45),v=a.n(h),E=u.a.firestore();var y=function(e){var t=e.student,a=(e.style,e.stuList),n=e.code;return c.a.createElement("tr",null,c.a.createElement("td",null,t.rollNo),c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.email),c.a.createElement("td",null,c.a.createElement("img",{onClick:function(){var e=a.filter((function(e){return e.rollNo!==t.rollNo}));E.collection("classes").doc(n).collection("details").doc("stuList").update({studentsList:e}).then((function(){v.a.toast({html:"Kicked Successfully",classes:"toast success-toast"})})).catch((function(e){return v.a.toast({html:e.message,classes:"toast error-toast"})}))},width:"20px",style:{cursor:"pointer"},src:"https://cdn4.iconfinder.com/data/icons/web-basics-vol-05/512/user_human_person_avatar_minus_close_delete-512.png",alt:"kick"})))},g=a(2),N=a(7),w=a(46),j=a.n(w),k=a(53),O=c.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,r=e.striped,l=e.bordered,s=e.borderless,o=e.hover,i=e.size,u=e.variant,m=e.responsive,d=Object(N.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),p=Object(k.a)(a,"table"),f=j()(n,p,u&&p+"-"+u,i&&p+"-"+i,r&&p+"-striped",l&&p+"-bordered",s&&p+"-borderless",o&&p+"-hover"),b=c.a.createElement("table",Object(g.a)({},d,{className:f,ref:t}));if(m){var h=p+"-responsive";return"string"===typeof m&&(h=h+"-"+m),c.a.createElement("div",{className:h},b)}return b}));var S=function(e){var t=e.student;return c.a.createElement("tr",null,c.a.createElement("td",null,t.rollNo),c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.email),c.a.createElement("td",null,c.a.createElement("i",{className:"fa fa-ban"})))},x=u.a.firestore();var I=function(e){var t=e.code,a=e.crEmail,n={border:"1px solid black",padding:3},r=Object(o.useState)([]),l=Object(b.a)(r,2),s=l[0],i=l[1];return Object(o.useEffect)((function(){x.collection("classes").doc(t).collection("details").doc("stuList").onSnapshot((function(e){e.data()&&i(Object(f.a)(e.data().studentsList))}))})),c.a.createElement("div",null,0===s.length?c.a.createElement("h4",null,"No students have joined the class yet!"):c.a.createElement("div",null,c.a.createElement(O,{striped:!0,bordered:!0,responsive:!0,className:"mx-auto",style:{maxWidth:"600px"}},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Roll No."),c.a.createElement("th",null,"Name"),c.a.createElement("th",null,"Email"),c.a.createElement("th",null,"Kick"))),c.a.createElement("tbody",null,s.map((function(e){return e.email===a?c.a.createElement(S,{key:"cr",student:e}):c.a.createElement(y,{student:e,style:n,key:e.rollNo,stuList:s,code:t})}))))))},C=a(54),A=u.a.firestore(),L=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={show:!1,tt:{},progress:0},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.browseFile=function(t){var a=t.target.files[0];a&&"image"===a.type.split("/")[0]?e.setState({tt:a}):v.a.toast({html:"Please select a valid image",classes:"toast error-toast"})},e.uploadtt=function(t){t.preventDefault();var a=e.state.tt;if(a.name){document.getElementById("progress").classList.remove("hide");var n=u.a.storage().ref("timetables/".concat(e.props.classCode,"/timetable"));n.put(a).on("state_changed",(function(t){var a=t.bytesTransferred/t.totalBytes*100;console.log(a),function(t){t&&e.setState({progress:t})}(a)}),(function(e){}),(function(){v.a.toast({html:"Uploaded Successfully",classes:"toast success-toast"}),n.getDownloadURL().then((function(t){!function(t){(alert("called"),t)?(A.collection("classes").doc(e.props.classCode).update({timeTable:t}),document.getElementById("progress").classList.add("hide"),e.hideModal()):v.a.toast({html:"Please upload an image first",classes:"toast error-toast"})}(t)})).catch((function(e){return console.log(e)}))}))}},e.getForm=function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"input-group mb-3"},c.a.createElement("div",{className:"custom-file"},c.a.createElement("input",{type:"file",className:"custom-file-input",id:"inputGroupFile02",onChange:e.browseFile,accept:"image/*",required:!0}),c.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile02","aria-describedby":"inputGroupFileAddon02"},e.state.tt.name?e.state.tt.name:"Choose File")),c.a.createElement("div",{className:"input-group"},c.a.createElement("button",{className:"btn btn-sm btn-success",type:"submit",style:{margin:"5px auto",width:"20%"}},"Upload")),c.a.createElement("div",{className:"input-group"},c.a.createElement("progress",{id:"progress",className:"custom-progress-bar hide",value:e.state.progress,max:"100"}," "))))},e}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{className:"btn-lg btn-info m-1",onClick:this.showModal},"Edit Timetable"),c.a.createElement(C.a,{show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},c.a.createElement(C.a.Header,{closeButton:!0},c.a.createElement(C.a.Title,null,c.a.createElement("h3",{className:"mt-2"},"Upload time table here:"))),c.a.createElement(C.a.Body,null,c.a.createElement("form",{onSubmit:this.uploadtt},this.getForm()))))}}]),a}(o.Component),T=a(88),F=u.a.firestore(),B=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e,r,l,s,o;Object(n.a)(this,a);for(var c=arguments.length,i=new Array(c),u=0;u<c;u++)i[u]=arguments[u];return(o=t.call.apply(t,[this].concat(i))).isMount=!1,o.state={details:null===(e=o.props.location)||void 0===e||null===(r=e.state)||void 0===r?void 0:r.details,classId:null===(l=o.props.location)||void 0===l||null===(s=l.state)||void 0===s?void 0:s.classId},o.collRef=F.collection("classes"),o.docRef=o.collRef.doc(o.state.classId),o}return Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"UNSAFE_componentWillMount",value:function(){this.isMount=!1}},{key:"render",value:function(){return c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"code-head-btn"},c.a.createElement(p.a,null),c.a.createElement("h1",{className:"mainPageHeading",style:{marginTop:"-3vh"}},"Class Details"),c.a.createElement(m.b,{className:"float-md-right mb-2 mr-2",to:"/cr"},c.a.createElement("i",{className:"fa fa-home",style:{fontSize:"30px",color:"#000"}}))),c.a.createElement("h2",{id:"Details",className:"subHeading"},"Info:"," "),c.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"18rem"}}),c.a.createElement(i,{details:this.state.details,onEdit:this.handleDetailsEdit}),c.a.createElement("h2",{id:"Timetable",className:"subHeading"},"Time Table",c.a.createElement(L,{classCode:this.state.classId}),c.a.createElement(T.a,{tt:this.props.location.state.tt})),c.a.createElement("h2",{id:"Students",className:"subHeading"},"Students:"," "),c.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"18rem"}}),c.a.createElement(I,{crEmail:this.props.location.state.email,code:this.state.classId}),c.a.createElement(d.a,{paths:["Details","Students"]}))}}]),a}(o.Component);t.default=B},43:function(e,t,a){"use strict";var n=a(47),r=a.n(n);a(48),a(49),a(50);r.a.initializeApp({apiKey:"AIzaSyAmIvOPjQnup4mQ5aG39T5baEpulNmWv4k",authDomain:"laayak-web-app.firebaseapp.com",databaseURL:"https://laayak-web-app.firebaseio.com",projectId:"laayak-web-app",storageBucket:"laayak-web-app.appspot.com",messagingSenderId:"308936714271",appId:"1:308936714271:web:002f9b74b345181da7cd2a",measurementId:"G-YHF3LDWKKG"}),t.a=r.a},55:function(e,t,a){"use strict";var n=a(12),r=a(13),l=a(15),s=a(14),o=a(0),c=a.n(o),i=(a(56),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={mode:document.getElementsByTagName("Body")[0].classList[0]},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"float-md-left w-auto mb-2 input-group custom-control custom-switch"},c.a.createElement("label",{id:"switch",className:"switch"},c.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:function(){"dark"===e.state.mode?localStorage.setItem("mode","light"):localStorage.setItem("mode","dark"),document.getElementsByTagName("Body")[0].classList.replace(e.state.mode,localStorage.getItem("mode")),e.setState({mode:localStorage.getItem("mode")})},checked:"dark"===this.state.mode,id:"dark"}),c.a.createElement("span",{className:"slider round"})))}}]),a}(o.Component));t.a=i},56:function(e,t,a){},60:function(e,t,a){"use strict";var n=a(12),r=a(13),l=a(15),s=a(14),o=a(0),c=a.n(o),i=(a(61),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={},e}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("nav",{className:"b-nav"},c.a.createElement("ul",{className:"b-nav-links"},this.props.paths.map((function(e){return c.a.createElement("li",{key:e},c.a.createElement("a",{href:"#"+e,className:"b-nav-link"},e))}))))}}]),a}(o.Component));t.a=i},61:function(e,t,a){},65:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",(function(){return n}))},68:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(65);function r(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n.a)(e,t):void 0}}},88:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){var t=e.tt;return r.a.createElement("div",null,r.a.createElement("img",{style:{margin:"30px 0",width:"700px",borderRadius:"10px",boxShadow:"23px 23px 46px #5a7a8b, -23px -23px 46px #7aa4bd"},src:t,alt:"time table"}))}},89:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(68);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,l=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(c){r=!0,l=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},90:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(65);var r=a(68);function l(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=10.4d3e145e.chunk.js.map